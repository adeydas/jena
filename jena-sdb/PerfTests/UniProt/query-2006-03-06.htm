<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>expasy4j WebNG :: Query Language</title>






	
	<link rel="stylesheet" type="text/css" href="query-2006-03-06_files/default.css" title="Default"></head><body>
	
<p><a href="http://www.isb-sib.ch/%7Eejain/expasy4j-webng/"><img src="query-2006-03-06_files/logo.png" alt="expasy4j WebNG"></a></p>

<h1>Query Language</h1>

<p>Constructing queries that can be run directly on the triple store is in most cases 
too complicated or inconvenient. Instead a specialized query language similar to 
<a href="http://www.w3.org/Submission/2004/SUBM-RDQL-20040109/">RDQL</a> is provided. 
Results are usually returned within seconds to minutes.</p>

<div id="contents">

<h2>Contents</h2>

<dl>
	<dt><a href="#examples">Examples</a></dt>
	<dt><a href="#missing">Missing Features</a></dt>
</dl>

</div>

<div id="examples">

<h2>Examples</h2>

<h3>Names of proteins with a gene with a specific name or synonym</h3>

<pre>SELECT 
  ?protein, ?name 
WHERE 
  [?protein rdf:type :Protein] AND 
  [?protein :name ?name] AND 
  [?protein :encodedBy ?gene] AND 
  [?gene :name "CRB"] 
USING 
  "urn:lsid:uniprot.org:ontology:",
  "http://www.w3.org/1999/02/22-rdf-syntax-ns#" AS rdf
</pre>

<h3>Ranges of transmembrane regions</h3>

<pre>SELECT 
  ?protein, ?begin, ?end 
WHERE 
  [?protein rdf:type :Protein] AND 
  [?protein :annotation ?annotation] AND
  [?annotation rdf:type :Transmembrane_Annotation] AND 
  [?annotation  :range ?range] AND 
  [?range :begin ?begin] AND  -- Note: Should use MAYBE...
  [?range :end ?end] 
USING 
  "urn:lsid:uniprot.org:ontology:",
  "http://www.w3.org/1999/02/22-rdf-syntax-ns#" AS rdf
</pre>

<h3>Proteins with publications by authors with matching names</h3>

<pre>SELECT 
  ?protein, ?author, ?title
WHERE 
  [?protein rdf:type :Protein] AND 
  [?protein :modified ?modified] AND 
  [?protein :citation ?citation] AND 
  [?citation :author ?author] AND 
  ?author ~ "bairoch %" AND 
  [?citation :title ?title] 
USING 
  "urn:lsid:uniprot.org:ontology:",
  "http://www.w3.org/1999/02/22-rdf-syntax-ns#" AS rdf
</pre>

<h3>Number of times a publication by a specific author is cited</h3>

<pre>COUNT 
  ?protein
WHERE 
  [?protein rdf:type :Protein] AND 
  [?protein :citation ?citation] AND 
  [?citation :author "Bairoch A."] 
USING 
  "urn:lsid:uniprot.org:ontology:",
  "http://www.w3.org/1999/02/22-rdf-syntax-ns#" AS rdf
</pre>

<h3>Resources that are related to proteins annotated with a specific keyword</h3>

<pre>SELECT 
  ?related
WHERE 
  [?protein rdf:type :Protein] AND 
  [?protein :classifiedWith &lt;urn:lsid:uniprot.org:keywords:48&gt;] AND 
  [?protein rdfs:seeAlso ?related] 
USING 
  "urn:lsid:uniprot.org:ontology:",
  "http://www.w3.org/1999/02/22-rdf-syntax-ns#" AS rdf, 
  "http://www.w3.org/2000/01/rdf-schema#" AS rdfs
</pre>

<h3>Genes associated with human diseases</h3>

<pre>SELECT 
  ?gene AS "Gene", ?name AS "Name", ?text AS "Disease"
WHERE 
  [?protein rdf:type :Protein] AND
  [?protein :gene ?gene] AND
  [?gene :name ?name] AND 
  [?protein :organism taxon:9606] AND 
  [?protein :annotation ?annotation] AND 
  [?annotation rdf:type :Disease_Annotation] AND 
  [?annotation rdfs:comment ?text] 
USING 
  "urn:lsid:uniprot.org:ontology:",
  "http://www.w3.org/1999/02/22-rdf-syntax-ns#" AS rdf, 
  "http://www.w3.org/2000/01/rdf-schema#" AS rdfs,
  "urn:lsid:uniprot.org:taxonomy:" AS taxon
</pre>

<h3>Sequences of bacterial proteins</h3>

<pre>SELECT 
  ?protein, ?aa
WHERE 
  [?protein rdf:type :Protein] AND 
  [?protein :organism taxon:2] AND 
  [?protein :sequence ?s] AND 
  [?s rdf:value ?aa]
USING 
  "urn:lsid:uniprot.org:ontology:",
  "http://www.w3.org/1999/02/22-rdf-syntax-ns#" AS rdf, 
  "http://www.w3.org/2000/01/rdf-schema#" AS rdfs,
  "urn:lsid:uniprot.org:taxonomy:" AS taxon
</pre>

<h3>Recently modified entries</h3>

<pre>SELECT 
  ?protein, ?date
WHERE 
  [?protein rdf:type :Protein] AND 
  [?protein :modified ?date] AND 
  ?date &gt; "2004-08"
USING 
  "urn:lsid:uniprot.org:ontology:",
  "http://www.w3.org/1999/02/22-rdf-syntax-ns#" AS rdf
</pre>

<h3>Interactions between two specific enzymes</h3>

<pre>SELECT 
  ?interaction, ?p1, ?p2
WHERE 
  [?p1 rdf:type :Protein] AND 
  [?p1 :enzyme ec:2.7.7.-] AND 
  [?p2 rdf:type :Protein] AND 
  [?p2 :enzyme ec:3.1.3.16] AND 
  [?interaction rdf:type :Interaction] AND 
  [?interaction :participant ?p1] AND 
  [?interaction :participant ?p2] 
USING 
  "urn:lsid:uniprot.org:ontology:",
  "http://www.w3.org/1999/02/22-rdf-syntax-ns#" AS rdf, 
  "http://www.w3.org/2000/01/rdf-schema#" AS rdfs,
  "urn:lsid:uniprot.org:enzymes:" AS ec
</pre>


<div id="missing">

<h2>Missing Features</h2>

<ul>
	<li>OR, NOT and MAYBE.</li>
	<li>Nested queries.</li>
	<li>Cardinality constraints.</li>
	<li>Queries over reified statements.</li>
</ul>

</div>

</div>
		

<div id="footer">
	<p>Â© 2006 <a href="http://www.isb-sib.ch/">Swiss Institute of Bioinformatics</a>. All rights reserved.
	Last modified February 18, 2006 by <a href="mailto:Eric.Jain@isb-sib.ch">Eric Jain</a>.</p>
</div>
		
</body></html>