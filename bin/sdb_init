#!/bin/bash  -- hint to emacs
# Source this file, not execute it.

## Environment variable usage:
## SDBROOT         :: The root of the SDB installation (required)
## SDB_JDBC        :: The JDBC jar file, or path list of JDBC jars
## JVM_ARGS        :: Additional argument to the JVM (e.g. -Xmx1024M)
##   Default store description 
##   is the file sdb.ttl in the
##   current directory

## Source this file to set:
##  CP         :: Classpath
##  STORE_SPEC :: Default store specification
##  CMD        :: The SDB command to call.

## ---- Check root
if [ "$SDBROOT" = "" ]
then
    echo "SDBROOT is not set" 1>&2
    exit 1
    fi

## ---- Set class path separator 
SEP=':'
if [ "$OSTYPE" = "cygwin" ]
then
    SEP=';'
    fi

## ---- who am I?
CMD=$(basename $0)

## ---- JDBC
## Commercial drivers can't be shipped for license reasons

# MySQL-ism : should not be needed
## ARGS="--dbArgs 'useUnicode=true&characterEncoding=UTF-8'"

## ---- Additional JDBC jar files.
# JDBC_CONNECTOR is deprecated

SDB_JDBC="${SDB_JDBC:-$JDBC_CONNECTOR}"
if [ "$SDB_JDBC" = "" ]
then
    echo "Warning: SDB_JDBC not set" 2>&1
    fi

CP="${SDB_JDBC}"

## ---- Add the script engine
if [ "$SDBSCRIPT" != "" ]
then
    CP="$SDBSCRIPT$SEP$CP"
fi

## ---- JVM Args e.g. -Xmx1024M
JVM_ARGS=${JVM_ARGS:-}

## ---- Classpath : adds in current CP
export CP
CP="$($SDBROOT/bin/sdb_path)"

## ---- Store description (default)
STORE_SPEC="${STORE_SPEC:---sdb=sdb.ttl}"
