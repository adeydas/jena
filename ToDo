SDB ToDo list (and general notes)
=================================

A/ Constraint compilation - done in PlanToSDB recognizer but needs later substitution.
IJ-R-T => IJ(r)-T is done specially - make a special stage (RA optimizer?)

OR imporve the generation of SQL output and leave the tree much as is.
OR canonical tree SPJ

B/ FILTER ( ?x = "string" )

C/ Out-of-scope variables / surpessed tests

D/ HSQl/MySQL joint testing


== Next
  1/ IsNotNull: C_, S_ and generated PlanToSDB
       C_ is variables, S_ is columns
     
  2/ Testing
     Build coverage test suite
  3/ (Detect fn:starts-with function) - do something!
  4/ ==> Performance testing

+ Variable tracking
  Use SQL COALESCE for OPTIONALs with shared variables
    var => triples
    var => values (id col)

c.f. SQLCache and returning prepared statements
  Named parameters in INSERT for robustness.
  Sequences, not autoIncrement

Encode upper/lower case into SQL identifiers.
  SQLidAllocate(String) => String
  SPARQLid2SQLid and reverse
    Off ramp only needed => not needed at all but eaier to see what's going on
    
Need to handle connection management to be concurrency and connection pooling friendly.

HSQL: can it handle LJs of J expressions?
  SQL format of LEFT JOINs to make HSQL work (no leading "(" in LHS join expression")
  Currently, optional generation is OFF in StoreTriplesNodesHSQL

+ Test for 
   + "?x :p ?x"
   + FILTER and out-of-block variables
   + Nested optionals with var not used by outer one (bottom up/top down issue)
   + Two optionals with a shared var

+ SQL comparisions
   SELECT FROM .. ON .. with SELECT FROM .. WHERE

   Inner SELECT
   SELECT FROM (SELECT .... WHERE) AS T [LEFT] JOIN ...
   with
   SELECT FROM T AS [LEFT] JOIN ... WHERE ...
   (should be the same but ...)
